(()=>{"use strict";var e,t={331:()=>{const e=window.wp.blocks,t=window.wp.blockEditor,l=window.wp.components,n=window.wp.data,s=window.wp.element,o=window.wp.i18n,a=window.wp.compose,r=window.ReactJSXRuntime,i=(0,a.compose)([(0,n.withSelect)(((e,t)=>({innerBlocks:e("core/block-editor").getBlock(t.clientId).innerBlocks}))),(0,n.withDispatch)(((t,l)=>({onClick(n){const s=(0,e.createBlock)(l.allowedBlock);t("core/block-editor").insertBlock(s,l.innerBlocks.length,l.clientId).then((()=>{n()}))}})))])((({onClick:e,onClickAfter:t,clientId:n,allowedBlock:s,innerBlocks:o,isEnabled:a=!0,...i})=>{if(a)return(0,r.jsx)(l.Button,{onClick:()=>e(t),...i})}));let c=e=>crypto.getRandomValues(new Uint8Array(e)),u=(e,t=21)=>((e,t,l)=>{let n=(2<<Math.log2(e.length-1))-1,s=-~(1.6*n*t/e.length);return(o=t)=>{let a="";for(;;){let t=l(s),r=0|s;for(;r--;)if(a+=e[t[r]&n]||"",a.length>=o)return a}}})(e,0|t,c);function d({clientId:e,isActiveTab:l,tabNumber:s,setActiveTab:o}){const{isTabBlockSelected:a,title:i}=(0,n.useSelect)((l=>{const{getBlock:n,hasSelectedInnerBlock:s,isBlockSelected:o}=l(t.store);return{isTabBlockSelected:o(e)||s(e,!0),title:n(e).attributes.title}}),[e]),{updateBlockAttributes:c}=(0,n.useDispatch)(t.store);return(0,r.jsx)("button",{className:"wp-block-pulsar-tabs__tab",id:`tab-${s}`,type:"button",role:"tab","aria-selected":a||l,"aria-controls":`tabpanel-${s}`,tabIndex:a||l?void 0:"-1",onClick:o,children:(0,r.jsx)(t.RichText,{tagName:"span",value:i,allowedFormats:[],onChange:t=>c(e,{title:t}),placeholder:`Tab ${s}`})})}function p({attributes:{id:e,activeTab:a,tabsCount:c,isVertical:p,inQueryLoop:b},clientId:h,setAttributes:k,isSelected:w}){const{getBlockParentsByBlockName:f}=(0,n.useSelect)((e=>({getBlockParentsByBlockName:e(t.store).getBlockParentsByBlockName})),[]);(0,s.useEffect)((()=>{e||k({id:u("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",11)()})}),[e,k]),(0,s.useEffect)((()=>{const e=f(h,"core/query").length>0;k({inQueryLoop:e})}),[h,b,f,k]);const g=(0,t.useBlockProps)({className:p?"is-vertical":"is-horizontal"}),{children:v,...m}=(0,t.useInnerBlocksProps)(g,{orientation:"horizontal",renderAppender:!1}),{hasTabSelected:x,tabBlocks:B}=(0,n.useSelect)((e=>{const{getBlocks:l,hasSelectedInnerBlock:n}=e(t.store);return{tabBlocks:l(h),hasTabSelected:n(h,!0)}}),[h]),{__unstableMarkNextChangeAsNotPersistent:y}=(0,n.useDispatch)(t.store);return(0,s.useEffect)((()=>{B.length<a&&(y(),k({activeTab:1})),B.length!==c&&(y(),k({tabsCount:B.length}))}),[a,k,B,c,y]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.InspectorControls,{children:(0,r.jsx)(l.PanelBody,{title:(0,o.__)("Settings","pulsar-blocks"),children:(0,r.jsx)(l.PanelRow,{children:(0,r.jsx)(l.ToggleControl,{label:(0,o.__)("Vertical","pulsar-blocks"),help:(0,o.__)("Display tabs vertically.","pulsar-blocks"),checked:p,onChange:e=>k({isVertical:e})})})})}),(0,r.jsxs)("div",{...m,children:[(0,r.jsx)("div",{className:"wp-block-pulsar-tabs__list",role:"tablist",children:B.map(((e,t)=>{const l=t+1;return(0,r.jsx)(d,{clientId:e.clientId,isActiveTab:!x&&a===l,tabNumber:l,setActiveTab:k.bind(null,{activeTab:l})},e.clientId)}))}),v,(0,r.jsx)(i,{onClickAfter:()=>{},variant:"secondary",text:(0,o.__)("Add tab","pulsar-blocks"),allowedBlock:"pulsar/tab",style:{width:"100%",justifyContent:"center"},clientId:h,isEnabled:w||x})]})]})}function b({clientId:a}){const i=(0,t.useBlockProps)(),[c,u]=(0,s.useState)(2),{title:d,icon:p}=(0,t.useBlockDisplayInformation)(a),{replaceInnerBlocks:b}=(0,n.useDispatch)(t.store);return(0,r.jsx)("div",{...i,children:(0,r.jsx)(l.Placeholder,{label:d,icon:(0,r.jsx)(t.BlockIcon,{icon:p,showColors:!0}),instructions:(0,o.__)("Insert tabs to organise content.","pulsar-blocks"),children:(0,r.jsxs)("form",{onSubmit:function(t){t.preventDefault(),b(a,(0,e.createBlocksFromInnerBlocksTemplate)(function(e){const t=[];for(let l=0;l<e;l++)t.push(["pulsar/tab"]);return t}(c)),!0)},children:[(0,r.jsx)(l.TextControl,{__next40pxDefaultSize:!0,type:"number",label:(0,o.__)("Tabs count","pulsar-blocks"),min:"1",value:c,onChange:u}),(0,r.jsx)(l.Button,{__next40pxDefaultSize:!0,variant:"primary",type:"submit",children:(0,o.__)("Create Tabs","pulsar-blocks")})]})})})}const h=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"pulsar/tabs","version":"1.0.0","title":"Tabs","category":"widgets","icon":"welcome-widgets-menus","description":"Organise content using tabs.","example":{},"allowedBlocks":["pulsar/tab"],"attributes":{"id":{"type":"string"},"tabsCount":{"type":"number"},"activeTab":{"type":"number","default":1},"templateLock":{"type":["string","boolean"],"enum":["all","insert","contentOnly",false]},"isVertical":{"type":"boolean","default":false},"inQueryLoop":{"type":"boolean","default":false}},"usesContext":["postId","postType","queryId"],"providesContext":{"tabs/id":"id","tabs/activeTab":"activeTab"},"supports":{"anchor":true,"align":["wide","full"],"html":false,"interactivity":true},"variations":[{"name":"two-tabs","title":"Tabs","isDefault":true,"scope":["inserter"],"innerBlocks":[["pulsar/tab"],["pulsar/tab"]]}],"textdomain":"pulsar-blocks","editorScript":"file:./index.js","editorStyle":"file:./index.css","style":"file:./style-index.css","viewScript":"file:./view.js","render":"file:./render.php"}'),k=(l.SVG,l.Path,l.Path,l.Path,l.Path,l.Path,l.SVG,l.G,l.G,l.Path,l.Polygon,l.Rect,l.Rect,l.Polygon,l.Polygon,l.SVG,l.G,l.G,l.Path,l.Polygon,l.Rect,l.Rect,l.SVG,l.Path,l.SVG,l.Path,l.SVG,l.Path,l.SVG,l.Path,l.Path,l.SVG,l.Path,(0,r.jsx)(l.SVG,{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",children:(0,r.jsx)(l.Path,{d:"M212.31-140Q182-140 161-161q-21-21-21-51.31v-535.38Q140-778 161-799q21-21 51.31-21h535.38Q778-820 799-799q21 21 21 51.31v535.38Q820-182 799-161q-21 21-51.31 21H212.31Zm0-60h535.38q4.62 0 8.46-3.85 3.85-3.84 3.85-8.46v-280H200v280q0 4.62 3.85 8.46 3.84 3.85 8.46 3.85ZM680-640q17 0 28.5-11.5T720-680q0-17-11.5-28.5T680-720H520q-17 0-28.5 11.5T480-680q0 17 11.5 28.5T520-640h160Z"})}));l.SVG,l.Path,l.Path,l.SVG,l.Path,l.SVG,l.Path,l.SVG,l.Path,(0,e.registerBlockType)(h.name,{...h,edit:function(e){const l=(0,n.useSelect)((l=>l(t.store).getBlocks(e.clientId).length>0),[e.clientId])?p:b;return(0,r.jsx)(l,{...e})},save:()=>(0,r.jsx)(t.InnerBlocks.Content,{}),icon:k})}},l={};function n(e){var s=l[e];if(void 0!==s)return s.exports;var o=l[e]={exports:{}};return t[e](o,o.exports,n),o.exports}n.m=t,e=[],n.O=(t,l,s,o)=>{if(!l){var a=1/0;for(u=0;u<e.length;u++){for(var[l,s,o]=e[u],r=!0,i=0;i<l.length;i++)(!1&o||a>=o)&&Object.keys(n.O).every((e=>n.O[e](l[i])))?l.splice(i--,1):(r=!1,o<a&&(a=o));if(r){e.splice(u--,1);var c=s();void 0!==c&&(t=c)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[l,s,o]},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={534:0,186:0};n.O.j=t=>0===e[t];var t=(t,l)=>{var s,o,[a,r,i]=l,c=0;if(a.some((t=>0!==e[t]))){for(s in r)n.o(r,s)&&(n.m[s]=r[s]);if(i)var u=i(n)}for(t&&t(l);c<a.length;c++)o=a[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(u)},l=globalThis.webpackChunkpulsar_blocks=globalThis.webpackChunkpulsar_blocks||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))})();var s=n.O(void 0,[186],(()=>n(331)));s=n.O(s)})();