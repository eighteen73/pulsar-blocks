(()=>{"use strict";var e,t={731:()=>{const e=window.wp.blocks,t=window.wp.i18n,n=window.wp.blockEditor,o=window.wp.keycodes,a=window.wp.coreData,l=window.wp.data,i=window.wp.element,s=window.wp.components,r=window.wp.hooks,c=window.wp.primitives,p=window.ReactJSXRuntime,u=(0,p.jsx)(c.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,p.jsx)(c.Path,{d:"M19 5.5H5V4h14v1.5ZM19 20H5v-1.5h14V20ZM5 9h14v6H5V9Z"})}),d=(0,p.jsx)(c.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,p.jsx)(c.Path,{d:"M16 5.5H8V4h8v1.5ZM16 20H8v-1.5h8V20ZM5 9h14v6H5V9Z"})}),h=(0,p.jsx)(c.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,p.jsx)(c.Path,{d:"M5 4h14v11H5V4Zm11 16H8v-1.5h8V20Z"})}),w=(0,p.jsx)(c.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,p.jsx)(c.Path,{d:"M10 17.389H8.444A5.194 5.194 0 1 1 8.444 7H10v1.5H8.444a3.694 3.694 0 0 0 0 7.389H10v1.5ZM14 7h1.556a5.194 5.194 0 0 1 0 10.39H14v-1.5h1.556a3.694 3.694 0 0 0 0-7.39H14V7Zm-4.5 6h5v-1.5h-5V13Z"})}),g=window.wp.compose;function m(e){var t,n,o="";if("string"==typeof e||"number"==typeof e)o+=e;else if("object"==typeof e)if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=m(e[t]))&&(o&&(o+=" "),o+=n)}else for(n in e)e[n]&&(o&&(o+=" "),o+=n);return o}const b=function(){for(var e,t,n=0,o="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=m(e))&&(o&&(o+=" "),o+=t);return o},_=window.wp.dom;function v(e,t){switch(e){case"post":case"page":return{type:"post",subtype:e};case"category":return{type:"term",subtype:"category"};case"tag":return{type:"term",subtype:"post_tag"};case"post_format":return{type:"post-format"};default:return"taxonomy"===t?{type:"term",subtype:e}:"post-type"===t?{type:"post",subtype:e}:{initialSuggestionsSearchOptions:{type:"post",subtype:"page",perPage:20}}}}function x(e){const[o,a]=(0,i.useState)(!0),{label:l,url:r,opensInNewTab:c,type:u,kind:d}=e.link,h=(0,i.useMemo)((()=>({url:r,opensInNewTab:c,title:l&&(0,_.__unstableStripHTML)(l)})),[l,c,r]),w=(0,g.useInstanceId)(x,"link-ui-link-control__title"),m=(0,g.useInstanceId)(x,"link-ui-link-control__description");return(0,p.jsxs)(p.Fragment,{children:[o&&(0,p.jsx)("div",{className:"components-popover-pointer-events-trap","aria-hidden":"true",onClick:()=>a(!1)}),(0,p.jsx)(s.Popover,{placement:"bottom",onClose:e.onClose,anchor:e.anchor,shift:!0,children:(0,p.jsxs)("div",{role:"dialog","aria-labelledby":w,"aria-describedby":m,children:[(0,p.jsxs)(s.VisuallyHidden,{children:[(0,p.jsx)("h2",{id:w,children:(0,t.__)("Add link")}),(0,p.jsx)("p",{id:m,children:(0,t.__)("Search for and add a link to your Navigation.")})]}),(0,p.jsx)(n.__experimentalLinkControl,{hasTextControl:!0,hasRichPreviews:!0,value:h,showInitialSuggestions:!0,noDirectEntry:!!u,noURLSuggestion:!!u,suggestionsQuery:v(u,d),onChange:e.onChange,onRemove:e.onRemove,onCancel:e.onCancel})]})})]})}(0,r.addFilter)("blocks.registerBlockType","pulsar-blocks-megamenu-add-to-navigation",((e,t)=>{var n;return"core/navigation"===t?{...e,allowedBlocks:[...null!==(n=e.allowedBlocks)&&void 0!==n?n:[],"pulsar/navigation-megamenu"]}:e}));const k=JSON.parse('{"UU":"pulsar/navigation-megamenu"}'),f=(s.SVG,s.Path,s.Path,s.Path,s.Path,s.Path,s.SVG,s.G,s.G,s.Path,s.Polygon,s.Rect,s.Rect,s.Polygon,s.Polygon,s.SVG,s.G,s.G,s.Path,s.Polygon,s.Rect,s.Rect,s.SVG,s.Path,s.SVG,s.Path,(0,p.jsx)(s.SVG,{width:"24px",height:"24px",viewBox:"0 0 24 24",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:(0,p.jsx)(s.Path,{d:"M20,12 L4,12 L4,13.5 L20,13.5 L20,12 Z M10,6.5 L4,6.5 L4,8 L10,8 L10,6.5 Z M20,17.5 L4,17.5 L4,19 L20,19 L20,17.5 Z M20,5.62462724 L16.000015,9 L12,5.62462724 L12.9791165,4.5 L16.000015,7.04920972 L19.0208935,4.5 L20,5.62462724 Z"})})),{UU:y}=(s.SVG,s.Path,s.Path,s.SVG,s.Path,s.SVG,s.Path,s.SVG,s.Path,s.Path,s.SVG,s.Path,s.SVG,s.Path,s.SVG,s.Path,k);(0,e.registerBlockType)(y,{icon:f,edit:function({attributes:e,setAttributes:r,context:c,clientId:m,isSelected:_,onReplace:v}){const{width:k,id:f,label:y,type:j,url:S,kind:C,rel:P,menuId:T,title:V,description:L}=e,{showSubmenuIcon:G,openSubmenusOnClick:M}=c,{selectPreviousBlock:R}=(0,l.useDispatch)(n.store),[N,I]=(0,i.useState)(!1),[H,B]=(0,i.useState)(null),[Z,O]=(0,i.useState)(null),E=(0,i.useRef)(null),[D,F]=((e,t,n)=>{const o="post-type"===e||"post"===t||"page"===t,i=Number.isInteger(n),s=(0,l.useSelect)((e=>{if(!o)return null;const{getEntityRecord:l}=e(a.store);return l("postType",t,n)?.status}),[o,t,n]);return[o&&i&&s&&"trash"===s,"draft"===s]})(C,j,f),A=(0,i.useRef)(),U=(0,l.useSelect)((e=>e("core").getSite().url)),z=U?U+"/wp-admin/site-editor.php?path=%2Fpatterns&categoryType=wp_template_part&categoryId=megamenu":"",{hasResolved:W,records:J}=(0,a.useEntityRecords)("postType","wp_template_part",{per_page:-1});let Q=[];W&&(Q=J.filter((e=>"megamenu"===e.area)).map((e=>({label:e.title.rendered,value:e.id}))));const X=Q.length>0,q=!T||Q.some((e=>e.value===T)),K=(0,p.jsx)(s.Notice,{status:"warning",isDismissible:!1,children:(0,i.createInterpolateElement)((0,t.__)("No megamenu template parts could be found. Create a new one in the <a>Site Editor</a>.","pulsar-blocks"),{a:(0,p.jsx)("a",{href:z,target:"_blank",rel:"noreferrer"})})}),Y=(0,p.jsx)(s.Notice,{status:"warning",isDismissible:!1,children:(0,t.__)("The selected megamenu template part no longer exists. Choose another.","pulsar-blocks")}),$=M?"button":"a",ee=(0,n.useBlockProps)({ref:(0,g.useMergeRefs)([O,E]),className:b("wp-block-navigation-item",{"is-editing":_,"has-link":!!S})});(!S||D||F)&&(ee.onClick=()=>{I(!0),B(A.current)});const te=(0,l.useSelect)((e=>e("core/editor").getEditorSettings()?.__experimentalFeatures?.layout)),ne={"":u,content:u,wide:d,full:h}[k],oe=[{value:"content",icon:u,title:(0,t.__)("Content width"),label:(0,t.sprintf)(
// translators: %s: container size (i.e. 600px etc)
// translators: %s: container size (i.e. 600px etc)
(0,t.__)("Content width (%s wide)","pulsar-blocks"),te.contentSize),onClick:()=>r({width:"content"})},{value:"wide",icon:d,title:(0,t.__)("Wide width"),label:(0,t.sprintf)(
// translators: %s: container size (i.e. 600px etc)
// translators: %s: container size (i.e. 600px etc)
(0,t.__)("Wide width (%s wide)","pulsar-blocks"),te.wideSize),onClick:()=>r({width:"wide"})},{value:"full",icon:h,title:(0,t.__)("Full width"),label:(0,t.__)("Full width","pulsar-blocks"),onClick:()=>r({width:"full"})}];return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(n.BlockControls,{children:[(0,p.jsxs)(s.ToolbarGroup,{children:[(0,p.jsx)(s.ToolbarButton,{name:"link",icon:w,title:(0,t.__)("Link"),shortcut:o.displayShortcut.primary("k"),onClick:e=>{I(!0),B(e.currentTarget)}}),(0,p.jsx)(s.DropdownMenu,{icon:ne,label:(0,t.__)("Select a direction","pulsar-blocks"),controls:oe})]}),N&&(0,p.jsx)(x,{clientId:m,link:e,anchor:Z,onClose:()=>{if(!S)return R(m,!0),void v([]);I(!1),H?(H.focus(),B(null)):A.current?A.current.focus():R(m,!0)},onRemove:()=>{r({url:"",opensInNewTab:!1})},onChange:e=>{r({id:e.id,label:e.title,kind:e.kind,url:e.url,opensInNewTab:e.opensInNewTab})}})]}),(0,p.jsx)(n.InspectorControls,{group:"settings",children:(0,p.jsxs)(s.PanelBody,{className:"pulsar-megamenu__settings-panel",title:(0,t.__)("Settings","pulsar-blocks"),initialOpen:!0,children:[(0,p.jsx)(s.TextControl,{label:(0,t.__)("Label","pulsar-blocks"),type:"text",value:y,onChange:e=>r({label:e}),autoComplete:"off"}),(0,p.jsx)(s.TextControl,{label:(0,t.__)("URL","pulsar-blocks"),type:"url",value:S,onChange:e=>r({url:e}),autoComplete:"off"}),(0,p.jsx)(s.ComboboxControl,{label:(0,t.__)("Template part","pulsar-blocks"),value:T,options:Q,onChange:e=>r({menuId:e}),help:X&&(0,i.createInterpolateElement)((0,t.__)("Create and modify megamenu template parts in the <a>Site Editor</a>.","pulsar-blocks"),{a:(0,p.jsx)("a",{href:z,target:"_blank",rel:"noreferrer"})})}),!X&&K,X&&!q&&Y,(0,p.jsx)(s.TextareaControl,{__nextHasNoMarginBottom:!0,value:L||"",onChange:e=>{r({description:e})},label:(0,t.__)("Description"),help:(0,t.__)("The description will be displayed in the menu if the current theme supports it.","pulsar-blocks")}),(0,p.jsx)(s.TextControl,{__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,value:V||"",onChange:e=>{r({title:e})},label:(0,t.__)("Title attribute"),autoComplete:"off",help:(0,t.__)("Additional information to help clarify the purpose of the link.","pulsar-blocks")}),(0,p.jsx)(s.TextControl,{__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,value:P||"",onChange:e=>{r({rel:e})},label:(0,t.__)("Rel attribute"),autoComplete:"off",help:(0,t.__)("The relationship of the linked URL as space-separated link types.","pulsar-blocks")})]})}),(0,p.jsxs)("div",{...ee,children:[(0,p.jsxs)($,{className:"wp-block-navigation-item__content wp-block-pulsar-navigation-megamenu__content",children:[(0,p.jsx)(n.RichText,{identifier:"label",className:"wp-block-navigation-item__label wp-block-pulsar-navigation-megamenu__label",value:y,onChange:e=>r({label:e}),"aria-label":(0,t.__)("Mega menu link text","pulsar-blocks"),placeholder:(0,t.__)("Add labelâ€¦","pulsar-blocks"),allowedFormats:["core/bold","core/italic","core/image","core/strikethrough"]}),L&&(0,p.jsx)("span",{className:"wp-block-navigation-item__description wp-block-pulsar-navigation-megamenu__description",children:L})]}),(G||M)&&(0,p.jsx)("span",{className:"wp-block-navigation__submenu-icon wp-block-pulsar-navigation-megamenu__icon",children:(0,p.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 12 12",fill:"none","aria-hidden":"true",focusable:"false",children:(0,p.jsx)("path",{d:"M1.50002 4L6.00002 8L10.5 4",strokeWidth:"1.5"})})})]})]})}})}},n={};function o(e){var a=n[e];if(void 0!==a)return a.exports;var l=n[e]={exports:{}};return t[e](l,l.exports,o),l.exports}o.m=t,e=[],o.O=(t,n,a,l)=>{if(!n){var i=1/0;for(p=0;p<e.length;p++){for(var[n,a,l]=e[p],s=!0,r=0;r<n.length;r++)(!1&l||i>=l)&&Object.keys(o.O).every((e=>o.O[e](n[r])))?n.splice(r--,1):(s=!1,l<i&&(i=l));if(s){e.splice(p--,1);var c=a();void 0!==c&&(t=c)}}return t}l=l||0;for(var p=e.length;p>0&&e[p-1][2]>l;p--)e[p]=e[p-1];e[p]=[n,a,l]},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={112:0,323:0};o.O.j=t=>0===e[t];var t=(t,n)=>{var a,l,[i,s,r]=n,c=0;if(i.some((t=>0!==e[t]))){for(a in s)o.o(s,a)&&(o.m[a]=s[a]);if(r)var p=r(o)}for(t&&t(n);c<i.length;c++)l=i[c],o.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return o.O(p)},n=globalThis.webpackChunkpulsar_blocks=globalThis.webpackChunkpulsar_blocks||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var a=o.O(void 0,[323],(()=>o(731)));a=o.O(a)})();