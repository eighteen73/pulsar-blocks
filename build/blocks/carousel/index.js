(()=>{"use strict";var e,t={855:(e,t,a)=>{const n=window.wp.blocks,o=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"pulsar-toolkit/carousel","version":"0.1.0","title":"Carousel","category":"text","attributes":{"mediaQuery":{"type":"string","default":"min"},"autoplay":{"type":"boolean","default":false},"arrows":{"type":"boolean","default":false},"pagination":{"type":"boolean","default":false},"type":{"type":"string","default":"loop"},"mobileOptions":{"type":"object","default":{"perPage":1,"perMove":1,"gap":0,"focusType":"center","focusPosition":1},"perPage":{"type":"number","default":2},"perMove":{"type":"number","default":1},"gap":{"type":"number","default":0},"focusType":{"type":"string","default":"center"},"focusPosition":{"type":"number","default":1}},"tabletOptions":{"type":"object","default":{"perPage":2,"perMove":1,"gap":0,"focusType":"center","focusPosition":1},"perPage":{"type":"number","default":2},"perMove":{"type":"number","default":1},"gap":{"type":"number","default":0},"focusType":{"type":"string","default":"center"},"focusPosition":{"type":"number","default":1}},"desktopOptions":{"type":"object","default":{"perPage":4,"perMove":1,"gap":0,"focusType":"center","focusPosition":1},"perPage":{"type":"number","default":4},"perMove":{"type":"number","default":1},"gap":{"type":"number","default":0},"focusType":{"type":"string","default":"center"},"focusPosition":{"type":"number","default":1}}},"textdomain":"pulsar-toolkit","editorScript":"file:./index.js","editorStyle":"file:./index.css","style":"file:./style-index.css"}');function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l.apply(this,arguments)}const r=window.wp.element,s=window.wp.blockEditor,i=window.wp.components;function p(e){const[t,a]=(0,r.useState)(e.options.perPage),[n,o]=(0,r.useState)(e.options.perMove),[l,s]=(0,r.useState)(e.options.gap),[p,u]=(0,r.useState)(e.options.focusType),[c,m]=(0,r.useState)(e.options.focusPosition),[d,b]=(0,r.useState)([{value:1,label:"1"}]);return(0,r.useEffect)((()=>{(()=>{const e=[];for(let a=1;a<=t;a++)e[a]={value:a,label:""+a};b(e)})()}),[t]),(0,r.createElement)(r.Fragment,null,(0,r.createElement)(i.PanelRow,{className:"__slides-per-page"},(0,r.createElement)("h2",null,"Slides Per Page"),(0,r.createElement)(i.RangeControl,{help:"Additional info about this.",allowReset:!0,resetFallbackValue:1,step:1,withInputField:!0,separatorType:"none",isShiftStepEnabled:!0,marks:[{value:1,label:"1"},{value:2,label:"2"},{value:3,label:"3"},{value:4,label:"4"},{value:5,label:"5"}],value:t,onChange:t=>{a(t),e.onChangeAttribute({perPage:t})},min:1,max:5})),(0,r.createElement)(i.PanelRow,{className:"__per-move"},(0,r.createElement)("h2",null,"Slides Per Move"),(0,r.createElement)(i.RangeControl,{help:"Additional info about this.",allowReset:!0,resetFallbackValue:1,step:1,withInputField:!0,separatorType:"none",isShiftStepEnabled:!0,marks:[{value:1,label:"1"},{value:2,label:"2"},{value:3,label:"3"},{value:4,label:"4"},{value:5,label:"5"}],value:n,onChange:t=>{o(t),e.onChangeAttribute({perMove:t})},min:1,max:5})),(0,r.createElement)(i.PanelRow,{className:"__gap"},(0,r.createElement)("h2",null,"Gap"),(0,r.createElement)(i.RangeControl,{help:"Additional info about this.",allowReset:!0,resetFallbackValue:0,step:5,withInputField:!0,separatorType:"none",isShiftStepEnabled:!0,marks:[{value:0,label:"0"},{value:20,label:"20"},{value:40,label:"40"},{value:60,label:"60"},{value:80,label:"80"},{value:100,label:"100"}],value:l,onChange:t=>{s(t),e.onChangeAttribute({gap:t})},min:0,max:100})),(0,r.createElement)(i.PanelRow,{className:"__focus"},(0,r.createElement)("h2",null,"Focus"),(0,r.createElement)(i.__experimentalRadioGroup,{onChange:t=>{u(t),e.onChangeAttribute({focusType:t})},label:"animation",className:"__button-group",checked:p},(0,r.createElement)(i.__experimentalRadio,{value:"center"},"center"),(0,r.createElement)(i.__experimentalRadio,{value:"number"},"number")),"number"===p&&(0,r.createElement)(i.RangeControl,{help:"Additional info about this.",step:1,separatorType:"none",className:"__range-control",isShiftStepEnabled:!0,marks:d,value:c,onChange:t=>{m(t),e.onChangeAttribute({focusPosition:t})},min:1,max:t})))}const u=function(e){const[t,a]=(0,r.useState)(e.autoplay),[n,o]=(0,r.useState)(e.arrows),[l,u]=(0,r.useState)(e.pagination),[c,m]=(0,r.useState)(e.type),[d,b]=(0,r.useState)("desktop"),[g,f]=(0,r.useState)(e.mobileOptions),[h,y]=(0,r.useState)(e.tabletOptions),[v,E]=(0,r.useState)(e.desktopOptions);return(0,r.createElement)(r.Fragment,null,(0,r.createElement)(s.InspectorControls,null,(0,r.createElement)(i.PanelBody,{title:"General",initialOpen:!0,className:"inspector-controls"},(0,r.createElement)(i.PanelRow,{className:"__animation"},(0,r.createElement)("h2",null,"Animation"),(0,r.createElement)(i.__experimentalRadioGroup,{onChange:t=>{m(t),e.onChangeAnimationMode(t)},label:"animation",className:"__button-group",checked:c},(0,r.createElement)(i.__experimentalRadio,{value:"loop"},"loop"),(0,r.createElement)(i.__experimentalRadio,{value:"slide"},"slide"),(0,r.createElement)(i.__experimentalRadio,{value:"fade"},"fade"))),(0,r.createElement)(i.PanelRow,null,(0,r.createElement)(i.ToggleControl,{label:"Autoplay",help:"Help message for autoplay enabling",checked:t,onChange:()=>{a(!t),e.onChangeAutoplayEnabled(!t)}})),(0,r.createElement)(i.PanelRow,null,(0,r.createElement)(i.ToggleControl,{label:"Show Arrows",help:"Help message for showing arrows",checked:n,onChange:()=>{o(!n),e.onChangeArrowsEnabled()}})),(0,r.createElement)(i.PanelRow,null,(0,r.createElement)(i.ToggleControl,{label:"Show Pagination",help:"Help message for showing pagination",checked:l,onChange:()=>{u(!l),e.onChangePaginationEnabled()}}))),(0,r.createElement)(i.PanelBody,{title:"Responsive",initialOpen:!1,className:"inspector-controls"},(0,r.createElement)(i.PanelRow,{className:"__breakpoints"},(0,r.createElement)("h2",null,"Breakpoint Screen"),(0,r.createElement)(i.__experimentalRadioGroup,{onChange:e=>{b(e)},label:"breakpoints",className:"__button-group",checked:d},(0,r.createElement)(i.__experimentalRadio,{value:"desktop"},"desktop"),(0,r.createElement)(i.__experimentalRadio,{value:"tablet"},"tablet"),(0,r.createElement)(i.__experimentalRadio,{value:"mobile"},"mobile")),"desktop"===d&&(0,r.createElement)(p,{options:v,onChangeAttribute:t=>{const a=Object.keys(t)[0],n=Object.values(t)[0];E({...v,[a]:n}),e.onChangeDesktopAttributes({...v,[a]:n})}}),"tablet"===d&&(0,r.createElement)(p,{options:h,onChangeAttribute:t=>{const a=Object.keys(t)[0],n=Object.values(t)[0];y({...h,[a]:n}),e.onChangeTabletAttributes({...h,[a]:n})}}),"mobile"===d&&(0,r.createElement)(p,{options:g,onChangeAttribute:t=>{const a=Object.keys(t)[0],n=Object.values(t)[0];f({...g,[a]:n}),e.onChangeMobileAttributes({...g,[a]:n})}})))))},c=window.Splide;var m=a.n(c);const d=window.wp.data,b=["pulsar-toolkit/carousel-slide"],g=(0,r.createElement)(i.SVG,{className:"icon-carousel",width:"26px",height:"18px",viewBox:"0 0 26 18",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},(0,r.createElement)(i.G,{strokeWidth:"1"},(0,r.createElement)(i.G,{transform:"translate(0.000000, -3.000000)"},(0,r.createElement)(i.Path,{d:"M20,5 L20,19 L6,19 L6,5 L20,5 L20,5 Z M20,3 L6,3 C4.9,3 4,3.9 4,5 L4,19 C4,20.1 4.9,21 6,21 L20,21 C21.1,21 22,20.1 22,19 L22,5 C22,3.9 21.1,3 20,3 Z",fillRule:"nonzero"}),(0,r.createElement)(i.Polygon,{fillRule:"nonzero",points:"15.14 12 12.14 15.7645914 10 13.2451362 7 17 19 17"}),(0,r.createElement)(i.Rect,{x:"7",y:"9",width:"12",height:"1"}),(0,r.createElement)(i.Rect,{x:"7",y:"7",width:"12",height:"1"}),(0,r.createElement)(i.Polygon,{transform:"translate(24.500000, 12.000000) rotate(-270.000000) translate(-24.500000, -12.000000) ",points:"24.5 10.5 27.5 13.5 21.5 13.5"}),(0,r.createElement)(i.Polygon,{transform:"translate(1.500000, 12.000000) rotate(-90.000000) translate(-1.500000, -12.000000) ",points:"1.5 10.5 4.5 13.5 -1.5 13.5"})))),{name:f}=o;(0,n.registerBlockType)(f,{...o,icon:g,edit:function(e){let{clientId:t,attributes:a,setAttributes:o}=e;const{mediaQuery:p,autoplay:c,arrows:g,pagination:f,type:h,mobileOptions:y,tabletOptions:v,desktopOptions:E}=a,w={mediaQuery:p};console.log(w);const[k,C]=(0,r.useState)({mediaQuery:p,autoplay:c,arrows:g,pagination:f,type:h,...E,...v,...y}),[_,P]=(0,r.useState)({});(0,r.useEffect)((()=>{console.log(k),0!==Object.keys(_).length&&_.destroy(!1);const e=new(m())(`#block-${t}`,k);P(e.mount())}),[k]),(0,r.useEffect)((()=>{const e={...y};e.focus="number"===e.focusType?e.focusPosition:e.focusType,delete e.focusPosition,delete e.focusType;const t={...v};t.focus="number"===t.focusType?t.focusPosition:t.focusType,delete t.focusPosition,delete t.focusType;const a={...E};a.focus="number"===a.focusType?a.focusPosition:a.focusType,delete a.focusPosition,delete a.focusType,C({...k,breakpoints:{640:e,1024:t,1280:a}})}),[E,y,v]);const O=()=>{const e=(0,d.select)("core/editor").getBlocksByClientId(t)[0].innerBlocks,a=(0,n.createBlock)("pulsar-toolkit/carousel-slide");(0,d.dispatch)("core/editor").insertBlock(a,e.length,t)},S=(0,s.useBlockProps)({className:"splide__list"}),x=(0,s.useInnerBlocksProps)(S,{orientation:"horizontal",allowedBlocks:b,renderAppender:!1});return(0,r.createElement)(r.Fragment,null,(0,r.createElement)(u,{autoplay:c,arrows:g,pagination:f,type:h,mobileOptions:y,tabletOptions:v,desktopOptions:E,onChangeAutoplayEnabled:()=>{o({autoplay:!c}),C({...k,autoplay:!c})},onChangeArrowsEnabled:()=>{o({arrows:!g}),C({...k,arrows:!g})},onChangePaginationEnabled:()=>{o({pagination:!f}),C({...k,pagination:!f})},onChangeAnimationMode:e=>{o({type:e})},onChangeMobileAttributes:e=>{o({mobileOptions:e})},onChangeTabletAttributes:e=>{o({tabletOptions:e})},onChangeDesktopAttributes:e=>{o({desktopOptions:e})}}),(0,r.createElement)(s.BlockControls,null,(0,r.createElement)(i.ToolbarButton,{icon:"insert",onClick:O})),(0,r.createElement)("div",l({},(0,s.useBlockProps)({className:"splide"}),{"aria-label":""}),(0,r.createElement)("div",{className:"splide__track"},(0,r.createElement)("ul",x))),(0,r.createElement)(i.Button,{className:"insert-slide",variant:"primary",onClick:O},"Insert Slide"))},save:()=>(0,r.createElement)(s.InnerBlocks.Content,null)})}},a={};function n(e){var o=a[e];if(void 0!==o)return o.exports;var l=a[e]={exports:{}};return t[e](l,l.exports,n),l.exports}n.m=t,e=[],n.O=(t,a,o,l)=>{if(!a){var r=1/0;for(u=0;u<e.length;u++){for(var[a,o,l]=e[u],s=!0,i=0;i<a.length;i++)(!1&l||r>=l)&&Object.keys(n.O).every((e=>n.O[e](a[i])))?a.splice(i--,1):(s=!1,l<r&&(r=l));if(s){e.splice(u--,1);var p=o();void 0!==p&&(t=p)}}return t}l=l||0;for(var u=e.length;u>0&&e[u-1][2]>l;u--)e[u]=e[u-1];e[u]=[a,o,l]},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={831:0,294:0};n.O.j=t=>0===e[t];var t=(t,a)=>{var o,l,[r,s,i]=a,p=0;if(r.some((t=>0!==e[t]))){for(o in s)n.o(s,o)&&(n.m[o]=s[o]);if(i)var u=i(n)}for(t&&t(a);p<r.length;p++)l=r[p],n.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return n.O(u)},a=globalThis.webpackChunkpulsar_toolkit=globalThis.webpackChunkpulsar_toolkit||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var o=n.O(void 0,[294],(()=>n(855)));o=n.O(o)})();