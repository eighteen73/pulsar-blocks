{"version":3,"file":"accordion/view.js","mappings":";;;;;AAAa;;AAEb,MAAMA,SAAS,CAAC;EACfC,WAAWA,CAAEC,WAAW,EAAG;IAC1B,IAAI,CAACA,WAAW,GAAGA,WAAW;IAC9B,IAAI,CAACC,YAAY,GAChBD,WAAW,CAACE,YAAY,CAAE,oBAAqB,CAAC,KAAK,MAAM;IAC5D,IAAI,CAACC,KAAK,GAAG,EAAE;IAEf,MAAMC,OAAO,GAAGJ,WAAW,CAACK,gBAAgB,CAC3C,kCACD,CAAC;IAEDD,OAAO,CAACE,OAAO,CAAE,CAAEC,MAAM,EAAEC,KAAK,KAAM;MACrC,MAAMC,aAAa,GAAG,IAAIC,aAAa,CAAEH,MAAM,EAAE,IAAK,CAAC;MACvD,IAAI,CAACJ,KAAK,CAACQ,IAAI,CAAEF,aAAc,CAAC;MAEhC,IACCD,KAAK,KAAK,CAAC,IACXR,WAAW,CAACE,YAAY,CAAE,iBAAkB,CAAC,KAAK,MAAM,EACvD;QACDO,aAAa,CAACG,QAAQ,CAAC,CAAC;MACzB;IACD,CAAE,CAAC;EACJ;EAEAC,QAAQA,CAAA,EAAG;IACV,IAAI,CAACV,KAAK,CAACG,OAAO,CAAIQ,IAAI,IAAMA,IAAI,CAACC,KAAK,CAAC,CAAE,CAAC;EAC/C;AACD;AAEA,MAAML,aAAa,CAAC;EACnBX,WAAWA,CAAEiB,OAAO,EAAEC,SAAS,EAAG;IACjC,IAAI,CAACC,MAAM,GAAGF,OAAO;IACrB,IAAI,CAACC,SAAS,GAAGA,SAAS;IAC1B,IAAI,CAACE,QAAQ,GAAG,IAAI,CAACD,MAAM,CAACE,aAAa,CAAE,uBAAwB,CAAC;IAEpE,MAAMC,UAAU,GAAG,IAAI,CAACF,QAAQ,CAACjB,YAAY,CAAE,eAAgB,CAAC;IAChE,IAAI,CAACoB,SAAS,GAAGC,QAAQ,CAACC,cAAc,CAAEH,UAAW,CAAC;IAEtD,IAAI,CAACI,MAAM,GAAG,IAAI,CAACN,QAAQ,CAACjB,YAAY,CAAE,eAAgB,CAAC,KAAK,MAAM;;IAEtE;IACA,IAAI,CAACiB,QAAQ,CAACO,gBAAgB,CAC7B,OAAO,EACP,IAAI,CAACC,aAAa,CAACC,IAAI,CAAE,IAAK,CAC/B,CAAC;EACF;EAEAD,aAAaA,CAAA,EAAG;IACf;IACA,IAAK,IAAI,CAACV,SAAS,CAAChB,YAAY,EAAG;MAClC,IAAI,CAAC4B,MAAM,CAAC,CAAC;IACd,CAAC,MAAM,IAAK,IAAI,CAACJ,MAAM,EAAG;MACzB;MACA,IAAI,CAACV,KAAK,CAAC,CAAC;IACb,CAAC,MAAM;MACN;MACA,IAAI,CAACE,SAAS,CAACJ,QAAQ,CAAC,CAAC;MACzB,IAAI,CAACD,QAAQ,CAAC,CAAC;IAChB;EACD;EAEAiB,MAAMA,CAAA,EAAG;IACR,IAAI,CAACJ,MAAM,GAAG,CAAE,IAAI,CAACA,MAAM;IAC3B,IAAI,CAACN,QAAQ,CAACW,YAAY,CAAE,eAAe,EAAE,IAAI,CAACL,MAAO,CAAC;IAC1D,IAAI,CAACP,MAAM,CAACa,SAAS,CAACF,MAAM,CAAE,WAAW,EAAE,IAAI,CAACJ,MAAO,CAAC;EACzD;EAEAb,QAAQA,CAAA,EAAG;IACV,IAAI,CAACa,MAAM,GAAG,IAAI;IAClB,IAAI,CAACN,QAAQ,CAACW,YAAY,CAAE,eAAe,EAAE,MAAO,CAAC;IACrD,IAAI,CAACZ,MAAM,CAACa,SAAS,CAACC,GAAG,CAAE,WAAY,CAAC;EACzC;EAEAjB,KAAKA,CAAA,EAAG;IACP,IAAI,CAACU,MAAM,GAAG,KAAK;IACnB,IAAI,CAACN,QAAQ,CAACW,YAAY,CAAE,eAAe,EAAE,OAAQ,CAAC;IACtD,IAAI,CAACZ,MAAM,CAACa,SAAS,CAACE,MAAM,CAAE,WAAY,CAAC;EAC5C;AACD;AAEAV,QAAQ,CAACG,gBAAgB,CAAE,kBAAkB,EAAE,MAAM;EACpD,MAAMQ,UAAU,GAAGX,QAAQ,CAAClB,gBAAgB,CAC3C,4BACD,CAAC;EACD6B,UAAU,CAAC5B,OAAO,CAAI6B,WAAW,IAAM;IACtC,MAAMC,iBAAiB,GAAG,IAAItC,SAAS,CAAEqC,WAAY,CAAC;IACtDA,WAAW,CAACC,iBAAiB,GAAGA,iBAAiB;EAClD,CAAE,CAAC;AACJ,CAAE,CAAC,C","sources":["webpack://pulsar-blocks/./src/accordion/view.js"],"sourcesContent":["'use strict';\n\nclass Accordion {\n\tconstructor( containerEl ) {\n\t\tthis.containerEl = containerEl;\n\t\tthis.openMultiple =\n\t\t\tcontainerEl.getAttribute( 'data-open-multiple' ) === 'true';\n\t\tthis.items = [];\n\n\t\tconst itemEls = containerEl.querySelectorAll(\n\t\t\t'.wp-block-pulsar-accordion__item'\n\t\t);\n\n\t\titemEls.forEach( ( itemEl, index ) => {\n\t\t\tconst accordionItem = new AccordionItem( itemEl, this );\n\t\t\tthis.items.push( accordionItem );\n\n\t\t\tif (\n\t\t\t\tindex === 0 &&\n\t\t\t\tcontainerEl.getAttribute( 'data-start-open' ) === 'true'\n\t\t\t) {\n\t\t\t\taccordionItem.openItem();\n\t\t\t}\n\t\t} );\n\t}\n\n\tcloseAll() {\n\t\tthis.items.forEach( ( item ) => item.close() );\n\t}\n}\n\nclass AccordionItem {\n\tconstructor( domNode, accordion ) {\n\t\tthis.rootEl = domNode;\n\t\tthis.accordion = accordion;\n\t\tthis.buttonEl = this.rootEl.querySelector( 'button[aria-expanded]' );\n\n\t\tconst controlsId = this.buttonEl.getAttribute( 'aria-controls' );\n\t\tthis.contentEl = document.getElementById( controlsId );\n\n\t\tthis.isOpen = this.buttonEl.getAttribute( 'aria-expanded' ) === 'true';\n\n\t\t// Add event listeners\n\t\tthis.buttonEl.addEventListener(\n\t\t\t'click',\n\t\t\tthis.onButtonClick.bind( this )\n\t\t);\n\t}\n\n\tonButtonClick() {\n\t\t// If data-open-multiple is enabled, toggle the item's state\n\t\tif ( this.accordion.openMultiple ) {\n\t\t\tthis.toggle();\n\t\t} else if ( this.isOpen ) {\n\t\t\t// If data-open-multiple is not enabled, close the active item if it's already open\n\t\t\tthis.close();\n\t\t} else {\n\t\t\t// Otherwise, open the item and close others\n\t\t\tthis.accordion.closeAll();\n\t\t\tthis.openItem();\n\t\t}\n\t}\n\n\ttoggle() {\n\t\tthis.isOpen = ! this.isOpen;\n\t\tthis.buttonEl.setAttribute( 'aria-expanded', this.isOpen );\n\t\tthis.rootEl.classList.toggle( 'is-active', this.isOpen );\n\t}\n\n\topenItem() {\n\t\tthis.isOpen = true;\n\t\tthis.buttonEl.setAttribute( 'aria-expanded', 'true' );\n\t\tthis.rootEl.classList.add( 'is-active' );\n\t}\n\n\tclose() {\n\t\tthis.isOpen = false;\n\t\tthis.buttonEl.setAttribute( 'aria-expanded', 'false' );\n\t\tthis.rootEl.classList.remove( 'is-active' );\n\t}\n}\n\ndocument.addEventListener( 'DOMContentLoaded', () => {\n\tconst accordions = document.querySelectorAll(\n\t\t'.wp-block-pulsar-accordion'\n\t);\n\taccordions.forEach( ( accordionEl ) => {\n\t\tconst accordionInstance = new Accordion( accordionEl );\n\t\taccordionEl.accordionInstance = accordionInstance;\n\t} );\n} );\n"],"names":["Accordion","constructor","containerEl","openMultiple","getAttribute","items","itemEls","querySelectorAll","forEach","itemEl","index","accordionItem","AccordionItem","push","openItem","closeAll","item","close","domNode","accordion","rootEl","buttonEl","querySelector","controlsId","contentEl","document","getElementById","isOpen","addEventListener","onButtonClick","bind","toggle","setAttribute","classList","add","remove","accordions","accordionEl","accordionInstance"],"sourceRoot":""}