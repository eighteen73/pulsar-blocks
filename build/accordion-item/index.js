(()=>{"use strict";const e=window.wp.blocks,t=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"pulsar/accordion-item","version":"1.0.0","title":"Accordion Item","category":"design","ancestor":["pulsar/accordion"],"supports":{"inserter":false,"reusable":false,"html":false},"attributes":{"title":{"type":"string","selector":".wp-block-pulsar-accordion__heading"},"id":{"type":"string","default":""},"inQueryLoop":{"type":"boolean","default":false}},"usesContext":["level","postId","postType","queryId"],"textdomain":"pulsar-blocks","editorScript":"file:./index.js","render":"file:./render.php"}'),o=window.wp.blockEditor,c=window.wp.element,l=window.wp.data,s=window.wp.i18n,a=window.ReactJSXRuntime,n=window.wp.components,r=(n.SVG,n.Path,n.Path,n.Path,n.Path,n.Path,n.SVG,n.G,n.G,n.Path,n.Polygon,n.Rect,n.Rect,n.Polygon,n.Polygon,n.SVG,n.G,n.G,n.Path,n.Polygon,n.Rect,n.Rect,n.SVG,n.Path,(0,a.jsx)(n.SVG,{fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",children:(0,a.jsx)(n.Path,{d:"m19 9c0-.27614-.2239-.5-.5-.5h-13c-.27614 0-.5.22386-.5.5v7.5c0 .2761.22386.5.5.5h13c.2761 0 .5-.2239.5-.5zm-13.875-3.5c-.89746 0-1.625.72754-1.625 1.625v9.75c0 .8975.72754 1.625 1.625 1.625h13.75c.8975 0 1.625-.7275 1.625-1.625v-9.75c0-.89746-.7275-1.625-1.625-1.625z",fill:"currentColor",fillRule:"evenodd"})})),{name:i}=(n.SVG,n.Path,n.SVG,n.Path,n.Path,n.SVG,n.Path,n.SVG,n.Path,n.SVG,n.Path,n.Path,n.SVG,n.Path,n.SVG,n.Path,n.SVG,n.Path,t);(0,e.registerBlockType)(i,{...t,icon:r,edit:function({attributes:e,setAttributes:t,clientId:n,context:r}){const{title:i,id:p,inQueryLoop:d}=e,{level:u,postId:h,postType:w}=r,m="h"+u,{getBlockParentsByBlockName:P}=(0,l.useSelect)(e=>({getBlockParentsByBlockName:e(o.store).getBlockParentsByBlockName}),[]);(0,c.useEffect)(()=>{const e=P(n,"core/query").length>0;e!==d&&t({inQueryLoop:e})},[n,d,P,t]);const k=(0,l.useSelect)(e=>{if(!d||!h||!w)return null;try{const t=e("core").getEntityRecord("postType",w,h);return t?.title?.rendered||t?.title||""}catch(e){return null}},[d,h,w]);(0,c.useEffect)(()=>{d&&k&&!i&&t({title:k})},[d,k,i,t]);const g=(0,o.useBlockProps)({className:"wp-block-pulsar-accordion__item"});(0,c.useEffect)(()=>{let e="pulsar-accordion-"+n.slice(2,9).replace("-","");d&&h&&(e=`${e}-${h}`),p!==e&&t({id:e})},[n,p,d,h,t]);const b=(0,o.useInnerBlocksProps)({className:"wp-block-pulsar-accordion__panel-inner"},{orientation:"vertical",__experimentalCaptureToolbars:!0,templateInsertUpdatesSelection:!1});return(0,a.jsxs)("div",{...g,children:[(0,a.jsx)(m,{className:"wp-block-pulsar-accordion__heading",children:(0,a.jsxs)("button",{className:"wp-block-pulsar-accordion__trigger",children:[d&&k?(0,a.jsx)("span",{className:"wp-block-pulsar-accordion__title",children:k}):(0,a.jsx)(o.RichText,{tagName:"span",className:"wp-block-pulsar-accordion__title",allowedFormats:["core/bold","core/italic"],onChange:e=>t({title:e}),value:i,placeholder:(0,s.__)("Add a titleâ€¦","pulsar-blocks")}),(0,a.jsx)("span",{className:"wp-block-pulsar-accordion__icon"})]})}),(0,a.jsx)("div",{className:"wp-block-pulsar-accordion__panel",children:(0,a.jsx)("div",{...b})})]})},save:()=>(0,a.jsx)(o.InnerBlocks.Content,{})})})();