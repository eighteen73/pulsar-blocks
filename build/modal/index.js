!function(){"use strict";var e,l={985:function(){var e=window.wp.blocks;function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function o(e,o,t){return(o=function(e){var o=function(e){if("object"!=l(e)||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var t=o.call(e,"string");if("object"!=l(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==l(o)?o:o+""}(o))in e?Object.defineProperty(e,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[o]=t,e}function t(e){var l,o,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var n=e.length;for(l=0;l<n;l++)e[l]&&(o=t(e[l]))&&(r&&(r+=" "),r+=o)}else for(o in e)e[o]&&(r&&(r+=" "),r+=o);return r}var r=function(){for(var e,l,o=0,r="",n=arguments.length;o<n;o++)(e=arguments[o])&&(l=t(e))&&(r&&(r+=" "),r+=l);return r},n=window.wp.i18n,a=window.wp.blockEditor,s=window.wp.element,i=window.wp.components,c=window.wp.data,d=window.wp.editor;const u=e=>(0,c.useSelect)((l=>{const o=[],t=l(a.store).getBlocks(),r=l=>{null!=l&&l.innerBlocks&&l.innerBlocks.forEach((l=>{l.name===e&&o.push(l),r(l)}))};return t.forEach((l=>{l.name===e&&o.push(l),r(l)})),o}));let p=e=>crypto.getRandomValues(new Uint8Array(e));const b=()=>((e,l=21)=>((e,l,o)=>{let t=(2<<Math.log2(e.length-1))-1,r=-~(1.6*t*l/e.length);return(n=l)=>{let a="";for(;;){let l=o(r),s=0|r;for(;s--;)if(a+=e[l[s]&t]||"",a.length>=n)return a}}})(e,0|l,p))("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",11)();var h=window.ReactJSXRuntime;i.SVG,i.Path,i.Path,i.Path,i.Path,i.Path,i.SVG,i.G,i.G,i.Path,i.Polygon,i.Rect,i.Rect,i.Polygon,i.Polygon,i.SVG,i.G,i.G,i.Path,i.Polygon,i.Rect,i.Rect,i.SVG,i.Path,i.SVG,i.Path,i.SVG,i.Path;const g=(0,h.jsxs)(i.SVG,{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:[(0,h.jsx)(i.Path,{d:"M6.4 12.1h11.2v1.5H6.4zM6.5 15.5h11.2V17H6.5z"}),(0,h.jsx)(i.Path,{d:"M23.2 4.5c0-2.1-1.7-3.7-3.7-3.7-1 0-2 .4-2.7 1.2-.3.3-.5.7-.7 1H5c-1.1 0-1.9.9-1.9 2v14c0 1.1.8 2 1.9 2h14.1c1.1 0 1.9-.9 1.9-1.9V7.9c1.3-.5 2.2-1.8 2.2-3.4zM19.5 19c0 .2-.2.4-.4.4H5c-.2 0-.4-.2-.4-.4V5c0-.2.2-.4.4-.4h10.8c0 2.1 1.7 3.7 3.7 3.7V19zm0-12.2c-1.2 0-2.2-1-2.2-2.2 0-.6.2-1.1.6-1.5.4-.5 1-.7 1.6-.7 1.2 0 2.2 1 2.2 2.2s-1 2.2-2.2 2.2z"})]});i.SVG,i.Path,i.SVG,i.Path,i.SVG,i.Path,i.Path,i.SVG,i.Path,i.SVG,i.Path,i.SVG,i.Path;const m=["children"];function _(e,l){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);l&&(t=t.filter((function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable}))),o.push.apply(o,t)}return o}function f(e){for(var l=1;l<arguments.length;l++){var t=null!=arguments[l]?arguments[l]:{};l%2?_(Object(t),!0).forEach((function(l){o(e,l,t[l])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):_(Object(t)).forEach((function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(t,l))}))}return e}var v=(0,i.withNotices)((function(e){const{attributes:l,setAttributes:o,isSelected:t,clientId:p}=e,{id:_,inQueryLoop:v,label:k,width:x,overlayColor:w,enableCloseButton:y,triggerType:j,triggerDelay:C,clickSelector:S,scrollSelector:P,scrollThreshold:O,dismissedDuration:B,disableClosing:T}=l,M=u("pulsar/modal");(0,s.useEffect)((()=>{(e=>{const l=e.filter(((e,l,o)=>o.find((l=>l.attributes.id===e.attributes.id&&l.clientId!==e.clientId))));if(!(l.length<=1))for(let e=1;e<l.length;e++)(0,c.dispatch)("core/block-editor").updateBlockAttributes(l[e].clientId,{id:b()})})(M)}),[p,M]);const[I,G]=(0,s.useState)(!1),D=(0,a.__experimentalUseMultipleOriginColorsAndGradients)(),N=(0,c.useSelect)((e=>{const{getCurrentPostType:l}=e(d.store);return l()}),[]),V=(0,s.useRef)(null),[E,H]=(0,s.useState)(!1),U=(0,c.useSelect)((e=>{const{hasSelectedInnerBlock:l}=e(a.store);return l(p,!0)}),[p]);(0,s.useEffect)((()=>{_||o({id:b()})}),[_,o]),(0,s.useEffect)((()=>{t||U?H(!0):"wp_block"!==N||I?H(!1):(G(!0),H(!0))}),[t,U,N]);const A=()=>{H(!1)},[L]=(0,a.useSettings)("spacing.units"),R=(0,i.__experimentalUseCustomUnits)({availableUnits:L||["%","px","em","rem","vw"]}),F=Number.isFinite(x)?x+"%":x,{getBlockParentsByBlockName:z}=wp.data.select("core/block-editor");(0,s.useEffect)((()=>{const e=z(p,"core/query").length>0;o({inQueryLoop:e})}),[p,v,z,o]);const W=(0,a.useBlockProps)({className:r("wp-block-pulsar-modal",{"is-open":E}),ref:V,style:{"--modal-container-width":F||void 0,"--modal-overlay-background-color":w},"data-trigger-delay":(()=>{if("load"===j||"scroll"===j)return C})(),"data-trigger-selector":"click"===j?S:"scroll"===j?P:void 0,"data-cookie-duration":B||void 0,"data-modal-id":_}),Z=(0,a.useInnerBlocksProps)({className:"wp-block-pulsar-modal__container",role:"dialog","aria-modal":!0}),{children:J}=Z,Q=function(e,l){if(null==e)return{};var o,t,r=function(e,l){if(null==e)return{};var o={};for(var t in e)if({}.hasOwnProperty.call(e,t)){if(-1!==l.indexOf(t))continue;o[t]=e[t]}return o}(e,l);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(t=0;t<n.length;t++)o=n[t],-1===l.indexOf(o)&&{}.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}(Z,m);return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(a.InspectorControls,{children:[(0,h.jsxs)(i.PanelBody,{title:(0,n.__)("Settings","pulsar-blocks"),children:[(0,h.jsxs)("p",{className:"wp-block-pulsar-modal__editor-id",children:[(0,n.__)("Modal ID","pulsar-blocks"),": ",(0,h.jsx)("code",{children:_})]}),(0,h.jsx)(i.TextControl,{label:(0,n.__)("Modal Label","pulsar-blocks"),value:k,placeholder:(0,n.__)("New Modal","pulsar-blocks"),onChange:e=>o({label:e}),help:(0,n.__)("Used to differentiate modals from one another, and describes the modal to screen readers.","pulsar-blocks")}),(0,h.jsx)(i.ToggleControl,{label:(0,n.__)("Prevent closing","pulsar-blocks"),checked:T||!1,help:(0,n.__)("If enabled, the modal will not be closable by clicking the close button or by clicking outside the modal. Use with caution.","pulsar-blocks"),onChange:()=>{o({disableClosing:!T,enableCloseButton:!1})}}),(0,h.jsx)(i.ToggleControl,{label:(0,n.__)("Show close button","pulsar-blocks"),checked:y||!1,onChange:()=>{o({enableCloseButton:!y})}}),(0,h.jsx)(i.__experimentalUnitControl,{label:(0,n.__)("Width"),labelPosition:"edge",__unstableInputWidth:"80px",value:x||"",onChange:e=>{e=0>parseFloat(e)?"0":e,o({width:e})},units:R}),(0,h.jsx)(i.__experimentalUnitControl,{label:(0,n.__)("Dismissed duration","pulsar-blocks"),labelPosition:"edge",__unstableInputWidth:"80px",value:B,help:(0,n.__)("Duration before this modal will appear again after being closed. Leave blank to always show this modal.","pulsar-blocks"),placeholder:"0",onChange:e=>o({dismissedDuration:e}),units:[{value:"days",label:"d",default:"",a11yLabel:(0,n.__)("Days"),step:1},{value:"hrs",label:"h",default:"",a11yLabel:(0,n.__)("Hours"),step:1},{value:"mins",label:"min",default:"",a11yLabel:(0,n.__)("Minutes"),step:1}]})]}),(0,h.jsxs)(i.PanelBody,{title:(0,n.__)("Triggers","pulsar-blocks"),initialOpen:!1,children:[(0,h.jsxs)(i.__experimentalToggleGroupControl,{label:(0,n.__)("Trigger type","pulsar-blocks"),value:j,onChange:e=>o({triggerType:e}),isBlock:!0,__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,children:[(0,h.jsx)(i.__experimentalToggleGroupControlOption,{value:"click",label:"Click"}),(0,h.jsx)(i.__experimentalToggleGroupControlOption,{value:"load",label:"Load"}),(0,h.jsx)(i.__experimentalToggleGroupControlOption,{value:"scroll",label:"Scroll"})]}),"scroll"===j&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(i.TextControl,{label:(0,n.__)("Selector","pulsar-blocks"),help:(0,n.__)("CSS element selector that triggers the modal when that element is scrolled into view.","pulsar-blocks"),value:P,onChange:e=>o({scrollSelector:e}),style:{fontFamily:"monospace"},__nextHasNoMarginBottom:!0}),(0,h.jsx)(i.__experimentalUnitControl,{label:(0,n.__)("Scroll threshold","pulsar-blocks"),units:[{value:"%",label:"%",default:10,a11yLabel:(0,n.__)("Percentage"),step:10}],min:0,max:100,labelPosition:"edge",__unstableInputWidth:"80px",value:O,onChange:e=>o({scrollThreshold:e})})]}),("load"===j||"scroll"===j)&&(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(i.__experimentalUnitControl,{label:(0,n.__)("Delay","pulsar-blocks"),labelPosition:"edge",__unstableInputWidth:"80px",value:C,placeholder:"0",onChange:e=>o({triggerDelay:e}),units:[{value:"ms",label:"ms",default:"",a11yLabel:(0,n.__)("Milliseconds (ms)"),step:100}]})}),"click"===j&&(0,h.jsx)(i.TextControl,{label:(0,n.__)("Selector","pulsar-blocks"),help:(0,n.__)("Optional CSS selector to trigger the modal. Buttons and groups also have an option to trigger modals.","pulsar-blocks"),value:S,onChange:e=>o({clickSelector:e}),style:{fontFamily:"monospace"},__nextHasNoMarginBottom:!0})]})]}),(0,h.jsx)(a.InspectorControls,{group:"color",children:(0,h.jsx)(a.__experimentalColorGradientSettingsDropdown,f({__experimentalIsRenderedInSidebar:!0,settings:[{colorValue:w,label:(0,n.__)("Overlay","pulsar-blocks"),onColorChange:e=>o({overlayColor:e}),isShownByDefault:!0,enableAlpha:!0,resetAllFilter:()=>({overlayColor:void 0})}],panelId:p},D))}),(0,h.jsx)(a.BlockControls,{group:"other",children:(0,h.jsx)(i.ToolbarGroup,{children:(0,h.jsx)(i.ToolbarButton,{onClick:()=>{H(!0)},children:(0,n.__)("Open Modal","pulsar-blocks")})})}),(0,h.jsx)("div",f(f({},W),{},{children:E?(0,h.jsx)("div",{className:"wp-block-pulsar-modal__overlay",children:(0,h.jsxs)("div",f(f({},Q),{},{children:[(0,h.jsx)(i.Popover,{variant:"toolbar",placement:"top-start",offset:10,className:"block-editor-block-popover",children:(0,h.jsx)(i.Toolbar,{label:"Options",children:(0,h.jsx)(i.ToolbarGroup,{children:(0,h.jsx)(i.ToolbarButton,{onClick:A,children:(0,n.__)("Close Modal","pulsar-blocks")})})})}),J,y&&(0,h.jsxs)("button",{className:"wp-block-pulsar-modal__close",onClick:A,children:[(0,h.jsx)("span",{className:"wp-block-pulsar-modal__close-icon"}),(0,h.jsx)("span",{className:"screen-reader-text",children:(0,n.__)("Close Modal","pulsar-blocks")})]})]}))}):(0,h.jsx)(i.Placeholder,{className:"wp-block-pulsar-modal__placeholder",icon:g,isColumnLayout:!0,children:(0,n.__)("Modal ID: ","pulsar-blocks")+_})}))]})})),k=JSON.parse('{"UU":"pulsar/modal"}'),x=window.wp.plugins,w=window.wp.editPost,y=window.wp.primitives,j=(0,h.jsx)(y.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,h.jsx)(y.Path,{d:"m19 7-3-3-8.5 8.5-1 4 4-1L19 7Zm-7 11.5H5V20h7v-1.5Z"})}),C=(0,h.jsx)(y.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,h.jsx)(y.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M12 5.5A2.25 2.25 0 0 0 9.878 7h4.244A2.251 2.251 0 0 0 12 5.5ZM12 4a3.751 3.751 0 0 0-3.675 3H5v1.5h1.27l.818 8.997a2.75 2.75 0 0 0 2.739 2.501h4.347a2.75 2.75 0 0 0 2.738-2.5L17.73 8.5H19V7h-3.325A3.751 3.751 0 0 0 12 4Zm4.224 4.5H7.776l.806 8.861a1.25 1.25 0 0 0 1.245 1.137h4.347a1.25 1.25 0 0 0 1.245-1.137l.805-8.861Z"})});(0,x.registerPlugin)("pulsar-modal",{render:function(){const e=u("pulsar/modal"),{selectBlock:l,insertBlock:o,removeBlock:t}=(0,c.useDispatch)(a.store),{openGeneralSidebar:r}=(0,c.useDispatch)(w.store);return(0,h.jsx)(d.PluginSidebar,{name:"plugin-sidebar-modal",title:(0,n.__)("Modals","pulsar-blocks"),icon:g,children:(0,h.jsxs)("div",{className:"plugin-sidebar-content",children:[e.length>0&&e.map(((e,o)=>(0,h.jsx)("div",{children:(0,h.jsx)(i.Card,{className:"pulsar-modal-block__card",isRounded:!1,size:"small",children:(0,h.jsxs)(i.CardBody,{children:[(0,h.jsx)(i.__experimentalHStack,{expanded:!0,children:(0,h.jsx)(i.__experimentalHeading,{size:4,children:e.attributes.label||(0,n.__)("New Modal","pulsar-blocks")})}),(0,h.jsxs)(i.__experimentalHStack,{expanded:!1,children:[(0,h.jsx)(i.Button,{size:"small",icon:j,label:(0,n.__)("Edit Modal","pulsar-blocks"),onClick:()=>{return o=e.clientId,l(o),void r("edit-post/block");var o}}),(0,h.jsx)(i.Button,{size:"small",icon:C,label:(0,n.__)("Remove Modal","pulsar-blocks"),onClick:()=>{return l=e.clientId,void t(l);var l}})]})]})})},o))),(0,h.jsx)(i.Button,{variant:"primary",onClick:()=>{const e=wp.blocks.createBlock("pulsar/modal",{label:(0,n.__)("New Modal","pulsar-blocks")});o(e),l(e.clientId),r("edit-post/block")},className:"pulsar-modal-block__add-button",children:(0,n.__)("Add Modal","pulsar-blocks")})]})})}});var S=window.wp.hooks,P=window.wp.compose;function O(e,l){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);l&&(t=t.filter((function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable}))),o.push.apply(o,t)}return o}function B(e){for(var l=1;l<arguments.length;l++){var t=null!=arguments[l]?arguments[l]:{};l%2?O(Object(t),!0).forEach((function(l){o(e,l,t[l])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):O(Object(t)).forEach((function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(t,l))}))}return e}const T=["core/button","core/image","core/heading","core/group"],M=(0,P.createHigherOrderComponent)((e=>l=>{const{name:o,attributes:t,setAttributes:r}=l,s=u("pulsar/modal"),d=s.filter((e=>{var l;return(null==t?void 0:t.modalTriggerId)===(null==e||null===(l=e.attributes)||void 0===l?void 0:l.id)}))[0],{selectBlock:p}=(0,c.useDispatch)(a.store),b=[{label:(0,n.__)("Select Modal","pulsar-blocks"),value:""},...s.map((e=>{var l,o;return{label:(null==e||null===(l=e.attributes)||void 0===l?void 0:l.label)||(0,n.__)("New Modal","pulsar-blocks"),value:null==e||null===(o=e.attributes)||void 0===o?void 0:o.id}}))];return T.includes(o)?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(e,B({},l)),"pulsar/modal"!==o&&(0,h.jsx)(a.InspectorAdvancedControls,{children:(0,h.jsxs)(i.BaseControl,{children:[(0,h.jsx)(i.ToggleControl,{label:(0,n.__)("Show Modal on Click","pulsar-blocks"),checked:(null==t?void 0:t.modalTriggerEnabled)||!1,onChange:()=>{r({modalTriggerEnabled:!(null!=t&&t.modalTriggerEnabled)})}}),(null==t?void 0:t.modalTriggerEnabled)&&(0,h.jsx)(i.SelectControl,{label:(0,n.__)("Modal","pulsar-blocks"),value:null==t?void 0:t.modalTriggerId,options:b,onChange:e=>{r({modalTriggerId:e})}}),null!==d&&(0,h.jsx)(i.Button,{label:(0,n.__)("Edit Modal","pulsar-blocks"),variant:"secondary",onClick:()=>p(d.clientId),children:(0,n.__)("Open Modal","pulsar-blocks")})]})})]}):(0,h.jsx)(e,B({},l))}),"withInspectorControl");(0,S.addFilter)("blocks.registerBlockType","pulsar/modal-attributes",((e,l)=>(void 0!==(null==e?void 0:e.attributes)&&T.includes(l)&&(e.attributes=B(B({},e.attributes),{},{modalTriggerEnabled:{type:"boolean",default:!1},modalTriggerId:{type:"string"}})),e))),(0,S.addFilter)("editor.BlockEdit","pulsar/modal-advanced-controls",M),(0,e.registerBlockType)(k.UU,{edit:v,save:()=>(0,h.jsx)(a.InnerBlocks.Content,{}),icon:g,deprecated:[{attributes:{triggerSelector:{type:"string"},enableTriggerDelay:{type:"boolean",default:!1}},migrate:e=>({clickSelector:e.triggerSelector})}]})}},o={};function t(e){var r=o[e];if(void 0!==r)return r.exports;var n=o[e]={exports:{}};return l[e](n,n.exports,t),n.exports}t.m=l,e=[],t.O=function(l,o,r,n){if(!o){var a=1/0;for(d=0;d<e.length;d++){o=e[d][0],r=e[d][1],n=e[d][2];for(var s=!0,i=0;i<o.length;i++)(!1&n||a>=n)&&Object.keys(t.O).every((function(e){return t.O[e](o[i])}))?o.splice(i--,1):(s=!1,n<a&&(a=n));if(s){e.splice(d--,1);var c=r();void 0!==c&&(l=c)}}return l}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[o,r,n]},t.o=function(e,l){return Object.prototype.hasOwnProperty.call(e,l)},function(){var e={483:0,251:0};t.O.j=function(l){return 0===e[l]};var l=function(l,o){var r,n,a=o[0],s=o[1],i=o[2],c=0;if(a.some((function(l){return 0!==e[l]}))){for(r in s)t.o(s,r)&&(t.m[r]=s[r]);if(i)var d=i(t)}for(l&&l(o);c<a.length;c++)n=a[c],t.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return t.O(d)},o=self.webpackChunkpulsar_blocks=self.webpackChunkpulsar_blocks||[];o.forEach(l.bind(null,0)),o.push=l.bind(null,o.push.bind(o))}();var r=t.O(void 0,[251],(function(){return t(985)}));r=t.O(r)}();