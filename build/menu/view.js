import*as e from"@wordpress/interactivity";var n,t,o={d:function(e,n){for(var t in n)o.o(n,t)&&!o.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},o:function(e,n){return Object.prototype.hasOwnProperty.call(e,n)}},s=(n={getContext:function(){return e.getContext},getElement:function(){return e.getElement},store:function(){return e.store}},t={},o.d(t,n),t);const u=["a[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","[contenteditable]",'[tabindex]:not([tabindex^="-"])'],l="(max-width: 1024px)";function i(e){var n;return null!==(n=null==e?void 0:e.ownerDocument)&&void 0!==n?n:document}(0,s.store)("pulsar/menu",{state:{isMobileMenuOpen:!1,isMobileView:window.matchMedia(l).matches,mobileMenuElement:null,firstFocusableElement:null,lastFocusableElement:null,previousFocus:null},actions:{toggleMobileMenu:()=>{const{state:e,actions:n}=(0,s.store)("pulsar/menu"),{ref:t}=(0,s.getElement)(),o=i(t);e.isMobileMenuOpen=!e.isMobileMenuOpen,e.isMobileMenuOpen?(e.previousFocus=o.activeElement,o.documentElement.classList.add("has-menu-open")):(o.documentElement.classList.remove("has-menu-open"),e.previousFocus&&e.previousFocus.focus&&e.previousFocus.focus(),n.clearMobileMenuFocusData())},closeMobileMenu:()=>{const{state:e,actions:n}=(0,s.store)("pulsar/menu");if(e.isMobileMenuOpen){e.isMobileMenuOpen=!1;const{ref:t}=(0,s.getElement)();i(t).documentElement.classList.remove("has-menu-open"),e.previousFocus&&e.previousFocus.focus&&e.previousFocus.focus(),n.clearMobileMenuFocusData()}},clearMobileMenuFocusData:()=>{const{state:e}=(0,s.store)("pulsar/menu");e.mobileMenuElement=null,e.firstFocusableElement=null,e.lastFocusableElement=null,e.previousFocus=null},handleMobileMenuKeydown:e=>{const{state:n}=(0,s.store)("pulsar/menu");if(!n.isMobileMenuOpen)return;const{actions:t}=(0,s.store)("pulsar/menu"),{ref:o}=(0,s.getElement)(),l=i(o);if("Escape"===e.key)return e.stopPropagation(),void t.closeMobileMenu();if("Tab"===e.key){const{firstFocusableElement:t,lastFocusableElement:o}=n;if(!t||!o){if(n.mobileMenuElement){const e=n.mobileMenuElement.querySelectorAll(u.join(","));e.length&&(n.firstFocusableElement=e[0],n.lastFocusableElement=e[e.length-1])}if(!n.firstFocusableElement||!n.lastFocusableElement)return}e.shiftKey&&l.activeElement===t?(e.preventDefault(),o.focus()):e.shiftKey||l.activeElement!==o||(e.preventDefault(),t.focus())}},handleMobileMenuFocusout:()=>{const{state:e,actions:n}=(0,s.store)("pulsar/menu"),{ref:t}=(0,s.getElement)();a((()=>{e.isMobileMenuOpen&&e.mobileMenuElement&&!e.mobileMenuElement.contains(i(t).activeElement)&&n.closeMobileMenu()}))},toggleSubmenu:()=>{const e=(0,s.getContext)();e.isSubmenuOpen=!e.isSubmenuOpen},openSubmenu:()=>{(0,s.getContext)().isSubmenuOpen=!0},closeSubmenu:()=>{(0,s.getContext)().isSubmenuOpen=!1},openSubmenuOnHover:()=>{const{state:e}=(0,s.store)("pulsar/menu");e.isMobileView||((0,s.getContext)().isSubmenuOpen=!0)},closeSubmenuOnHover:()=>{const{state:e}=(0,s.store)("pulsar/menu");if(e.isMobileView)return;const n=(0,s.getContext)(),{ref:t}=(0,s.getElement)();setTimeout((()=>{t&&!t.matches(":hover")&&(n.isSubmenuOpen=!1)}),100)},handleSubmenuKeydown:e=>{if(!(0,s.getContext)().isSubmenuOpen)return;const{actions:n}=(0,s.store)("pulsar/menu");if("Escape"===e.key){e.stopPropagation(),n.closeSubmenu();const{ref:t}=(0,s.getElement)(),o=t.closest("li.wp-block-pulsar-menu__item"),u=null==o?void 0:o.querySelector(".wp-block-pulsar-menu__submenu-icon");null==u||u.focus()}},handleSubmenuFocusout:()=>{const e=(0,s.getContext)(),{ref:n}=(0,s.getElement)(),{actions:t}=(0,s.store)("pulsar/menu");a((()=>{e.isSubmenuOpen&&n&&!n.contains(i(n).activeElement)&&t.closeSubmenu()}))},_updateIsMobileView:e=>{const{state:n,actions:t}=(0,s.store)("pulsar/menu");n.isMobileView,n.isMobileView=e,e||n.isMobileMenuOpen&&t.closeMobileMenu()}},callbacks:{initMobileMenu:()=>{const{state:e}=(0,s.store)("pulsar/menu"),{ref:n}=(0,s.getElement)();if(e.mobileMenuElement=n,e.isMobileMenuOpen){const t=n.querySelectorAll(u.join(","));t.length?(e.firstFocusableElement=t[0],e.lastFocusableElement=t[t.length-1],e.firstFocusableElement.focus()):(e.firstFocusableElement=null,e.lastFocusableElement=null)}},initNav:()=>{const{actions:e}=(0,s.store)("pulsar/menu"),n=window.matchMedia(l);e._updateIsMobileView(n.matches);const t=n=>{e._updateIsMobileView(n.matches)};return n.addEventListener("change",t),()=>{n.removeEventListener("change",t)}}}});const a=window.requestAnimationFrame||(e=>window.setTimeout(e,1e3/60));