(()=>{"use strict";var e,l={204:(e,l,o)=>{const a=window.wp.blocks,n=window.wp.blockEditor,s=window.wp.components,r=window.wp.element,t=window.wp.i18n,c=window.wp.apiFetch;var u=o.n(c);const i=window.wp.serverSideRender;var p=o.n(i);const b=window.ReactJSXRuntime;(0,a.registerBlockType)("pulsar/menu",{edit:function({attributes:e,setAttributes:l}){const{location:o,collapse:a,orientation:c,hasSubmenuBack:i,hasSubmenuLabel:h,submenuOpensOnClick:_}=e,d=(0,n.useBlockProps)(),[k,m]=(0,r.useState)([]),[v,w]=(0,r.useState)(!0),[g,x]=(0,r.useState)(null);(0,r.useEffect)((()=>{w(!0),x(null),u()({path:"/pulsar/v1/menu-locations"}).then((e=>{m(e),w(!1)})).catch((e=>{console.error("Error fetching menu locations:",e),x(e.message||(0,t.__)("Failed to load menu locations.","pulsar-blocks")),w(!1)}))}),[]);const O=[{label:(0,t.__)("— Select a Menu Location —","pulsar-blocks"),value:""},...k.map((e=>({label:e.name,value:e.slug})))],S="small-only"===a||"always"===a;return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(n.InspectorControls,{children:[(0,b.jsxs)(s.PanelBody,{children:[v&&(0,b.jsx)(s.Spinner,{}),!v&&g&&(0,b.jsx)("p",{style:{color:"red"},children:g}),!v&&!g&&(0,b.jsx)(s.SelectControl,{label:(0,t.__)("Location","pulsar-blocks"),value:o,options:O,onChange:e=>l({location:e}),help:(0,t.__)("Select the menu location to display.","pulsar-blocks")}),(0,b.jsx)(s.SelectControl,{label:(0,t.__)("Collapse","pulsar-blocks"),help:(0,t.__)("Select when the menu should collapse into a toggle button.","pulsar-blocks"),options:[{label:(0,t.__)("Never","pulsar-blocks"),value:"never"},{label:(0,t.__)("Small Screens Only","pulsar-blocks"),value:"small-only"},{label:(0,t.__)("Always","pulsar-blocks"),value:"always"}],value:a,onChange:e=>l({collapse:e})}),!S&&(0,b.jsxs)(s.__experimentalToggleGroupControl,{label:(0,t.__)("Orientation","pulsar-blocks"),value:c,onChange:e=>l({orientation:e}),isBlock:!0,children:[(0,b.jsx)(s.__experimentalToggleGroupControlOption,{value:"vertical",label:(0,t.__)("Vertical","pulsar-blocks")}),(0,b.jsx)(s.__experimentalToggleGroupControlOption,{value:"horizontal",label:(0,t.__)("Horizontal","pulsar-blocks")})]})]}),S&&(0,b.jsxs)(s.PanelBody,{title:(0,t.__)("Submenu Options","pulsar-blocks"),initialOpen:!0,children:[(0,b.jsx)(s.ToggleControl,{label:(0,t.__)("Open on click","pulsar-blocks"),help:(0,t.__)("Opens a submenu via a click rather than hover.","pulsar-blocks"),checked:_,onChange:e=>{l({submenuOpensOnClick:e})}}),(0,b.jsx)(s.ToggleControl,{label:(0,t.__)("Show back button","pulsar-blocks"),checked:i,onChange:e=>{l({hasSubmenuBack:e})}}),i&&(0,b.jsx)(s.ToggleControl,{label:(0,t.__)("Show parent label","pulsar-blocks"),help:(0,t.__)("Show the parent menu item label as the back button.","pulsar-blocks"),checked:h,onChange:e=>{l({hasSubmenuLabel:e})}})]})]}),(0,b.jsx)("div",{...d,children:o?(0,b.jsx)(s.Disabled,{children:(0,b.jsx)(p(),{block:"pulsar/menu",attributes:{location:o,collapse:a,hasSubmenuBack:i,hasSubmenuLabel:h,submenuOpensOnClick:_,orientation:c}})}):(0,b.jsx)("p",{className:"wp-block-pulsar-menu__placeholder",children:(0,t.__)("Select a menu location to display.","pulsar-blocks")})})]})}})}},o={};function a(e){var n=o[e];if(void 0!==n)return n.exports;var s=o[e]={exports:{}};return l[e](s,s.exports,a),s.exports}a.m=l,e=[],a.O=(l,o,n,s)=>{if(!o){var r=1/0;for(i=0;i<e.length;i++){for(var[o,n,s]=e[i],t=!0,c=0;c<o.length;c++)(!1&s||r>=s)&&Object.keys(a.O).every((e=>a.O[e](o[c])))?o.splice(c--,1):(t=!1,s<r&&(r=s));if(t){e.splice(i--,1);var u=n();void 0!==u&&(l=u)}}return l}s=s||0;for(var i=e.length;i>0&&e[i-1][2]>s;i--)e[i]=e[i-1];e[i]=[o,n,s]},a.n=e=>{var l=e&&e.__esModule?()=>e.default:()=>e;return a.d(l,{a:l}),l},a.d=(e,l)=>{for(var o in l)a.o(l,o)&&!a.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:l[o]})},a.o=(e,l)=>Object.prototype.hasOwnProperty.call(e,l),(()=>{var e={447:0,103:0};a.O.j=l=>0===e[l];var l=(l,o)=>{var n,s,[r,t,c]=o,u=0;if(r.some((l=>0!==e[l]))){for(n in t)a.o(t,n)&&(a.m[n]=t[n]);if(c)var i=c(a)}for(l&&l(o);u<r.length;u++)s=r[u],a.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return a.O(i)},o=globalThis.webpackChunkpulsar_blocks=globalThis.webpackChunkpulsar_blocks||[];o.forEach(l.bind(null,0)),o.push=l.bind(null,o.push.bind(o))})();var n=a.O(void 0,[103],(()=>a(204)));n=a.O(n)})();