!function(){"use strict";var e,n={5551:function(e,n,t){var r=window.wp.blocks;function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function l(e,n,t){return(n=function(e){var n=function(e){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var t=n.call(e,"string");if("object"!=o(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==o(n)?n:n+""}(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var a=window.wp.blockEditor,u=window.wp.components,i=window.wp.element,s=window.wp.i18n,c=window.wp.apiFetch,p=t.n(c),b=window.wp.serverSideRender,f=t.n(b),h=window.ReactJSXRuntime;function m(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function v(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?m(Object(t),!0).forEach((function(n){l(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):m(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}(0,r.registerBlockType)("pulsar/menu",{edit:function({attributes:e,setAttributes:n}){const{location:t,collapse:r,orientation:o,hasSubmenuBack:l,hasSubmenuLabel:c,submenuOpensOnClick:b}=e,m=(0,a.useBlockProps)(),[d,_]=(0,i.useState)([]),[y,w]=(0,i.useState)(!0),[O,g]=(0,i.useState)(null);(0,i.useEffect)((()=>{w(!0),g(null),p()({path:"/pulsar/v1/menu-locations"}).then((e=>{_(e),w(!1)})).catch((e=>{console.error("Error fetching menu locations:",e),g(e.message||(0,s.__)("Failed to load menu locations.","pulsar")),w(!1)}))}),[]);const j=[{label:(0,s.__)("— Select a Menu Location —","pulsar"),value:""},...d.map((e=>({label:e.name,value:e.slug})))],S="small-only"===r||"always"===r;return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(a.InspectorControls,{children:[(0,h.jsxs)(u.PanelBody,{children:[y&&(0,h.jsx)(u.Spinner,{}),!y&&O&&(0,h.jsx)("p",{style:{color:"red"},children:O}),!y&&!O&&(0,h.jsx)(u.SelectControl,{label:(0,s.__)("Location","pulsar"),value:t,options:j,onChange:e=>n({location:e}),help:(0,s.__)("Select the menu location to display.","pulsar")}),(0,h.jsx)(u.SelectControl,{label:(0,s.__)("Collapse","pulsar"),help:(0,s.__)("Select when the menu should collapse into a toggle button.","pulsar"),options:[{label:(0,s.__)("Never","pulsar"),value:"never"},{label:(0,s.__)("Small Screens Only","pulsar"),value:"small-only"},{label:(0,s.__)("Always","pulsar"),value:"always"}],value:r,onChange:e=>n({collapse:e})}),!S&&(0,h.jsxs)(u.__experimentalToggleGroupControl,{label:(0,s.__)("Orientation","pulsar"),value:o,onChange:e=>n({orientation:e}),isBlock:!0,children:[(0,h.jsx)(u.__experimentalToggleGroupControlOption,{value:"vertical",label:(0,s.__)("Vertical","pulsar")}),(0,h.jsx)(u.__experimentalToggleGroupControlOption,{value:"horizontal",label:(0,s.__)("Horizontal","pulsar")})]})]}),S&&(0,h.jsxs)(u.PanelBody,{title:(0,s.__)("Submenu Options","pulsar"),initialOpen:!0,children:[(0,h.jsx)(u.ToggleControl,{label:(0,s.__)("Open on click","pulsar"),help:(0,s.__)("Opens a submenu via a click rather than hover.","pulsar"),checked:b,onChange:e=>{n({submenuOpensOnClick:e})}}),(0,h.jsx)(u.ToggleControl,{label:(0,s.__)("Show back button","pulsar"),checked:l,onChange:e=>{n({hasSubmenuBack:e})}}),l&&(0,h.jsx)(u.ToggleControl,{label:(0,s.__)("Show parent label","pulsar"),help:(0,s.__)("Show the parent menu item label as the back button.","pulsar"),checked:c,onChange:e=>{n({hasSubmenuLabel:e})}})]})]}),(0,h.jsx)("div",v(v({},m),{},{children:t?(0,h.jsx)(u.Disabled,{children:(0,h.jsx)(f(),{block:"pulsar/menu",attributes:{location:t,collapse:r,hasSubmenuBack:l,hasSubmenuLabel:c,submenuOpensOnClick:b,orientation:o}})}):(0,h.jsx)("p",{className:"wp-block-pulsar-menu__placeholder",children:(0,s.__)("Select a menu location to display.","pulsar")})}))]})}})}},t={};function r(e){var o=t[e];if(void 0!==o)return o.exports;var l=t[e]={exports:{}};return n[e](l,l.exports,r),l.exports}r.m=n,e=[],r.O=function(n,t,o,l){if(!t){var a=1/0;for(c=0;c<e.length;c++){t=e[c][0],o=e[c][1],l=e[c][2];for(var u=!0,i=0;i<t.length;i++)(!1&l||a>=l)&&Object.keys(r.O).every((function(e){return r.O[e](t[i])}))?t.splice(i--,1):(u=!1,l<a&&(a=l));if(u){e.splice(c--,1);var s=o();void 0!==s&&(n=s)}}return n}l=l||0;for(var c=e.length;c>0&&e[c-1][2]>l;c--)e[c]=e[c-1];e[c]=[t,o,l]},r.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(n,{a:n}),n},r.d=function(e,n){for(var t in n)r.o(n,t)&&!r.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},r.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},function(){var e={447:0,103:0};r.O.j=function(n){return 0===e[n]};var n=function(n,t){var o,l,a=t[0],u=t[1],i=t[2],s=0;if(a.some((function(n){return 0!==e[n]}))){for(o in u)r.o(u,o)&&(r.m[o]=u[o]);if(i)var c=i(r)}for(n&&n(t);s<a.length;s++)l=a[s],r.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return r.O(c)},t=self.webpackChunkpulsar_blocks=self.webpackChunkpulsar_blocks||[];t.forEach(n.bind(null,0)),t.push=n.bind(null,t.push.bind(t))}();var o=r.O(void 0,[103],(function(){return r(5551)}));o=r.O(o)}();