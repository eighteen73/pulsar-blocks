(()=>{"use strict";var e,l={4204:(e,l,a)=>{const n=window.wp.blocks,o=window.wp.blockEditor,r=window.wp.components,t=window.wp.element,s=window.wp.i18n,u=window.wp.apiFetch;var i=a.n(u);const c=window.wp.serverSideRender;var p=a.n(c);const h=window.ReactJSXRuntime;(0,n.registerBlockType)("pulsar/menu",{edit:function({attributes:e,setAttributes:l}){const{location:a,collapse:n,orientation:u,hasSubmenuBack:c,hasSubmenuLabel:b,submenuOpensOnClick:_}=e,d=(0,o.useBlockProps)(),[m,v]=(0,t.useState)([]),[w,g]=(0,t.useState)(!0),[k,x]=(0,t.useState)(null);(0,t.useEffect)((()=>{g(!0),x(null),i()({path:"/pulsar/v1/menu-locations"}).then((e=>{v(e),g(!1)})).catch((e=>{console.error("Error fetching menu locations:",e),x(e.message||(0,s.__)("Failed to load menu locations.","pulsar")),g(!1)}))}),[]);const O=[{label:(0,s.__)("— Select a Menu Location —","pulsar"),value:""},...m.map((e=>({label:e.name,value:e.slug})))],S="small-only"===n||"always"===n;return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(o.InspectorControls,{children:[(0,h.jsxs)(r.PanelBody,{children:[w&&(0,h.jsx)(r.Spinner,{}),!w&&k&&(0,h.jsx)("p",{style:{color:"red"},children:k}),!w&&!k&&(0,h.jsx)(r.SelectControl,{label:(0,s.__)("Location","pulsar"),value:a,options:O,onChange:e=>l({location:e}),help:(0,s.__)("Select the menu location to display.","pulsar")}),(0,h.jsx)(r.SelectControl,{label:(0,s.__)("Collapse","pulsar"),help:(0,s.__)("Select when the menu should collapse into a toggle button.","pulsar"),options:[{label:(0,s.__)("Never","pulsar"),value:"never"},{label:(0,s.__)("Small Screens Only","pulsar"),value:"small-only"},{label:(0,s.__)("Always","pulsar"),value:"always"}],value:n,onChange:e=>l({collapse:e})}),!S&&(0,h.jsxs)(r.__experimentalToggleGroupControl,{label:(0,s.__)("Orientation","pulsar"),value:u,onChange:e=>l({orientation:e}),isBlock:!0,children:[(0,h.jsx)(r.__experimentalToggleGroupControlOption,{value:"vertical",label:(0,s.__)("Vertical","pulsar")}),(0,h.jsx)(r.__experimentalToggleGroupControlOption,{value:"horizontal",label:(0,s.__)("Horizontal","pulsar")})]})]}),S&&(0,h.jsxs)(r.PanelBody,{title:(0,s.__)("Submenu Options","pulsar"),initialOpen:!0,children:[(0,h.jsx)(r.ToggleControl,{label:(0,s.__)("Open on click","pulsar"),help:(0,s.__)("Opens a submenu via a click rather than hover.","pulsar"),checked:_,onChange:e=>{l({submenuOpensOnClick:e})}}),(0,h.jsx)(r.ToggleControl,{label:(0,s.__)("Show back button","pulsar"),checked:c,onChange:e=>{l({hasSubmenuBack:e})}}),c&&(0,h.jsx)(r.ToggleControl,{label:(0,s.__)("Show parent label","pulsar"),help:(0,s.__)("Show the parent menu item label as the back button.","pulsar"),checked:b,onChange:e=>{l({hasSubmenuLabel:e})}})]})]}),(0,h.jsx)("div",{...d,children:a?(0,h.jsx)(r.Disabled,{children:(0,h.jsx)(p(),{block:"pulsar/menu",attributes:{location:a,collapse:n,hasSubmenuBack:c,hasSubmenuLabel:b,submenuOpensOnClick:_,orientation:u}})}):(0,h.jsx)("p",{className:"wp-block-pulsar-menu__placeholder",children:(0,s.__)("Select a menu location to display.","pulsar")})})]})}})}},a={};function n(e){var o=a[e];if(void 0!==o)return o.exports;var r=a[e]={exports:{}};return l[e](r,r.exports,n),r.exports}n.m=l,e=[],n.O=(l,a,o,r)=>{if(!a){var t=1/0;for(c=0;c<e.length;c++){for(var[a,o,r]=e[c],s=!0,u=0;u<a.length;u++)(!1&r||t>=r)&&Object.keys(n.O).every((e=>n.O[e](a[u])))?a.splice(u--,1):(s=!1,r<t&&(t=r));if(s){e.splice(c--,1);var i=o();void 0!==i&&(l=i)}}return l}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[a,o,r]},n.n=e=>{var l=e&&e.__esModule?()=>e.default:()=>e;return n.d(l,{a:l}),l},n.d=(e,l)=>{for(var a in l)n.o(l,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:l[a]})},n.o=(e,l)=>Object.prototype.hasOwnProperty.call(e,l),(()=>{var e={447:0,103:0};n.O.j=l=>0===e[l];var l=(l,a)=>{var o,r,[t,s,u]=a,i=0;if(t.some((l=>0!==e[l]))){for(o in s)n.o(s,o)&&(n.m[o]=s[o]);if(u)var c=u(n)}for(l&&l(a);i<t.length;i++)r=t[i],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return n.O(c)},a=globalThis.webpackChunkpulsar_blocks=globalThis.webpackChunkpulsar_blocks||[];a.forEach(l.bind(null,0)),a.push=l.bind(null,a.push.bind(a))})();var o=n.O(void 0,[103],(()=>n(4204)));o=n.O(o)})();