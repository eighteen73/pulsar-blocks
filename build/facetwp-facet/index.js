(()=>{"use strict";var e={n:t=>{var a=t&&t.__esModule?()=>t.default:()=>t;return e.d(a,{a}),a},d:(t,a)=>{for(var s in a)e.o(a,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:a[s]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.wp.blocks,a=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"pulsar/facetwp-facet","description":"Display a FacetWP Facet.","version":"1.0.0","title":"FacetWP Facet","category":"widgets","icon":"filter","supports":{"html":false,"reusable":false,"inserter":true,"lock":true,"multiple":true},"attributes":{"facetName":{"type":"string"}},"textdomain":"pulsar","editorScript":"file:./index.js","editorStyle":"file:./index.css","render":"file:./render.php"}'),s=window.wp.blockEditor,r=window.wp.components,l=window.wp.element,n=window.wp.i18n,c=window.wp.apiFetch;var o=e.n(c);const i=window.ReactJSXRuntime,{name:p}=a;(0,t.registerBlockType)(p,{...a,edit:function({attributes:e,setAttributes:t}){const a=(0,s.useBlockProps)(),{facetName:c}=e,[p,u]=(0,l.useState)(!0),[d,f]=(0,l.useState)([]);if((0,l.useEffect)((()=>{o()({path:"/pulsar/v1/facetwp/available-facets"}).then((e=>{f(e),u(!1)})).catch((e=>{console.error("Error fetching data:",e),u(!1)}))}),[]),p)return(0,i.jsx)("p",{...a,children:(0,n.__)("Loading facets…","pulsar-blocks")});if(!d||0===d.length)return(0,i.jsx)("p",{...a,children:(0,n.__)("No facets found.","pulsar-blocks")});const w=d?[{label:(0,n.__)("Select a facet","pulsar-blocks"),value:""},...d.map((e=>({label:e.label,value:e.name})))]:[],b=()=>(0,i.jsxs)("div",{className:"wp-block-pulsar-facetwp-facet__preview",children:[p&&(0,n.__)("Loading facets…","pulsar-blocks"),!c&&(0,n.__)("Select a facet","pulsar-blocks"),!d||0===d.length&&(0,n.__)("No facets found.","pulsar-blocks"),d.find((e=>e.name===c))?.label]});return(0,i.jsxs)("div",{...a,children:[(0,i.jsx)(s.InspectorControls,{children:(0,i.jsx)(r.PanelBody,{title:(0,n.__)("Settings","pulsar"),children:(0,i.jsx)(r.SelectControl,{label:(0,n.__)("Facet","pulsar"),value:c,options:w,onChange:e=>t({facetName:e})})})}),(0,i.jsx)(b,{})]})}})})();