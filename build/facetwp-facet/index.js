(()=>{"use strict";var e,t={2563:(e,t,r)=>{const a=window.wp.blocks,s=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"pulsar/facetwp-facet","description":"Display a FacetWP Facet.","version":"1.0.0","title":"FacetWP Facet","category":"widgets","icon":"filter","supports":{"html":false,"reusable":false,"inserter":true,"lock":true,"multiple":true},"attributes":{"facetName":{"type":"string"}},"textdomain":"pulsar","editorScript":"file:./index.js","editorStyle":"file:./index.css","style":"file:./style-index.css","render":"file:./render.php"}'),l=window.wp.blockEditor,o=window.wp.components,n=window.wp.element,i=window.wp.i18n,c=window.wp.apiFetch;var p=r.n(c);const u=window.ReactJSXRuntime,{name:f}=s;(0,a.registerBlockType)(f,{...s,edit:function({attributes:e,setAttributes:t}){const r=(0,l.useBlockProps)(),{facetName:a}=e,[s,c]=(0,n.useState)(!0),[f,d]=(0,n.useState)([]);if((0,n.useEffect)((()=>{p()({path:"/pulsar/v1/facetwp/available-facets"}).then((e=>{d(e),c(!1)})).catch((e=>{console.error("Error fetching data:",e),c(!1)}))}),[]),s)return(0,u.jsx)("p",{...r,children:(0,i.__)("Loading facets…","pulsar-blocks")});if(!f||0===f.length)return(0,u.jsx)("p",{...r,children:(0,i.__)("No facets found.","pulsar-blocks")});const b=f?[{label:(0,i.__)("Select a facet","pulsar-blocks"),value:""},...f.map((e=>({label:e.label,value:e.name})))]:[],h=()=>(0,u.jsxs)("div",{className:"wp-block-pulsar-facetwp-facet__preview",children:[s&&(0,i.__)("Loading facets…","pulsar-blocks"),!a&&(0,i.__)("Select a facet","pulsar-blocks"),!f||0===f.length&&(0,i.__)("No facets found.","pulsar-blocks"),f.find((e=>e.name===a))?.label]});return(0,u.jsxs)("div",{...r,children:[(0,u.jsx)(l.InspectorControls,{children:(0,u.jsx)(o.PanelBody,{title:(0,i.__)("Filter Layout","pulsar-blocks"),children:(0,u.jsx)(o.SelectControl,{label:(0,i.__)("Facet","pulsar-blocks"),value:a,options:b,onChange:e=>t({facetName:e}),__next40pxDefaultSize:!0})})}),(0,u.jsx)(h,{})]})}})}},r={};function a(e){var s=r[e];if(void 0!==s)return s.exports;var l=r[e]={exports:{}};return t[e](l,l.exports,a),l.exports}a.m=t,e=[],a.O=(t,r,s,l)=>{if(!r){var o=1/0;for(p=0;p<e.length;p++){for(var[r,s,l]=e[p],n=!0,i=0;i<r.length;i++)(!1&l||o>=l)&&Object.keys(a.O).every((e=>a.O[e](r[i])))?r.splice(i--,1):(n=!1,l<o&&(o=l));if(n){e.splice(p--,1);var c=s();void 0!==c&&(t=c)}}return t}l=l||0;for(var p=e.length;p>0&&e[p-1][2]>l;p--)e[p]=e[p-1];e[p]=[r,s,l]},a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={322:0,598:0};a.O.j=t=>0===e[t];var t=(t,r)=>{var s,l,[o,n,i]=r,c=0;if(o.some((t=>0!==e[t]))){for(s in n)a.o(n,s)&&(a.m[s]=n[s]);if(i)var p=i(a)}for(t&&t(r);c<o.length;c++)l=o[c],a.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return a.O(p)},r=globalThis.webpackChunkpulsar_blocks=globalThis.webpackChunkpulsar_blocks||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var s=a.O(void 0,[598],(()=>a(2563)));s=a.O(s)})();